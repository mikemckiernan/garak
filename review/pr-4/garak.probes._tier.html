

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>garak.probes._tier &mdash; garak  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="garak.report" href="report.html" />
    <link rel="prev" title="garak.probes.visual_jailbreak" href="garak.probes.visual_jailbreak.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            garak
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Using garak</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="how.html">How <code class="docutils literal notranslate"><span class="pre">garak</span></code> runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="configurable.html">Configuring <code class="docutils literal notranslate"><span class="pre">garak</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="cliref.html">CLI reference for garak</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation.html">Translation support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NVIDIA/garak/blob/main/FAQ.md">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basic.html">Key Concepts and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="attempt.html">garak.attempt</a></li>
<li class="toctree-l1"><a class="reference internal" href="buffs.html">garak.buffs</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">garak.cli</a></li>
<li class="toctree-l1"><a class="reference internal" href="command.html">garak.command</a></li>
<li class="toctree-l1"><a class="reference internal" href="detectors.html">garak.detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluators.html">garak.evaluators</a></li>
<li class="toctree-l1"><a class="reference internal" href="exception.html">garak.exception</a></li>
<li class="toctree-l1"><a class="reference internal" href="generators.html">garak.generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="harnesses.html">garak.harnesses</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive.html">garak.interactive</a></li>
<li class="toctree-l1"><a class="reference internal" href="langservice.html">garak.langservice</a></li>
<li class="toctree-l1"><a class="reference internal" href="payloads.html">garak.payloads</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="probes.html">garak.probes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="garak.probes.html">garak.probes</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.base.html">garak.probes.base</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.ansiescape.html">garak.probes.ansiescape</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.atkgen.html">garak.probes.atkgen</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.audio.html">garak.probes.audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.av_spam_scanning.html">garak.probes.av_spam_scanning</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.continuation.html">garak.probes.continuation</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.dan.html">garak.probes.dan</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.divergence.html">garak.probes.divergence</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.donotanswer.html">garak.probes.donotanswer</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.encoding.html">garak.probes.encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.exploitation.html">garak.probes.exploitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.fileformats.html">garak.probes.fileformats</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.glitch.html">garak.probes.glitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.goodside.html">garak.probes.goodside</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.grandma.html">garak.probes.grandma</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.latentinjection.html">garak.probes.latentinjection</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.leakreplay.html">garak.probes.leakreplay</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.lmrc.html">garak.probes.lmrc</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.malwaregen.html">garak.probes.malwaregen</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.misleading.html">garak.probes.misleading</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.packagehallucination.html">garak.probes.packagehallucination</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.phrasing.html">garak.probes.phrasing</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.promptinject.html">garak.probes.promptinject</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.realtoxicityprompts.html">garak.probes.realtoxicityprompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.snowball.html">garak.probes.snowball</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.suffix.html">garak.probes.suffix</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.tap.html">garak.probes.tap</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.test.html">garak.probes.test</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.topic.html">garak.probes.topic</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.xss.html">garak.probes.xss</a></li>
<li class="toctree-l2"><a class="reference internal" href="garak.probes.visual_jailbreak.html">garak.probes.visual_jailbreak</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">garak.probes._tier</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#security-prevalence-and-risk">Security, Prevalence, and Risk</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adversarial-robustness-and-alignment">Adversarial Robustness and Alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tiers-with-our-principles">Tiers with our Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#garak.probes._tier.Tier"><code class="docutils literal notranslate"><span class="pre">Tier</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="report.html">garak.report</a></li>
<li class="toctree-l1"><a class="reference internal" href="_config.html">garak._config</a></li>
<li class="toctree-l1"><a class="reference internal" href="_plugins.html">garak._plugins</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extending and Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending <code class="docutils literal notranslate"><span class="pre">garak</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.generator.html">Let’s build a generator!</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.probe.html">Writing a Probe</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to <code class="docutils literal notranslate"><span class="pre">garak</span></code></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">garak</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="probes.html">garak.probes</a></li>
      <li class="breadcrumb-item active">garak.probes._tier</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/garak.probes._tier.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="garak-probes-tier">
<h1>garak.probes._tier<a class="headerlink" href="#garak-probes-tier" title="Link to this heading"></a></h1>
<p>Why are there <code class="docutils literal notranslate"><span class="pre">Tier</span></code>s in garak? That’s a good question – why would there be tiers for anything? Implicit in this notion is the idea that an item of a higher tier is “better” for some metric. In gaming, tiers are often used to highlight characters/decks with higher win rates.</p>
<p>So what is a tier in garak? The flippant answer is that it’s a convenient way to deal with the question “What probes should I run?” – something new users and those who don’t like to spin their GPU for extended periods of time often ask. It effectively establishes a hierarchy to say “If you can only run a small number of probes, these are the most important ones”. But what makes a probe important? Well, unfortunately, the best answer to that question is a classic: it depends.</p>
<p>So in the absence of knowing what you care about, should you care about <code class="docutils literal notranslate"><span class="pre">`av_spam_scanning</span></code>? Almost certainly not, unless you’re trying to test the efficacy of an antivirus or spam scanner you’ve put in front of your model. Should you care about <code class="docutils literal notranslate"><span class="pre">malwaregen</span></code>? Do you care if your model/system will write malicious code?</p>
<section id="security-prevalence-and-risk">
<h2>Security, Prevalence, and Risk<a class="headerlink" href="#security-prevalence-and-risk" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">garak</span></code> is a tool intended to test the <em>security</em> of a target LLM-powered system. This is not a trivial thing, but it gives us a first principle to work with: probes that indicate the ability to exploit a security risk should, ceteris paribus (Latin for “I read a statistics textbook once”), have a higher tier. This does not mean that probes which do not consider security are relegated to the bin, but rather that probes which indicate a potential security impact should be treated preferentially. Security here means with respect to confidentiality, integrity, and availability of the system and its data. Content safety (making models say rude things) is not an attribute of security. It can carry financial and reputational risks, but it is not a part of security.</p>
<p>When we think about prevalence, there are two key notions we need to deal with:</p>
<ol class="arabic simple">
<li><p>What is the prevalence of this attribute in models/systems under test (e.g. can it deal with Base64 encoded text)?</p></li>
<li><p>What is the prevalence of concomitant weaknesses that would make having some attribute lead to security failures?</p></li>
</ol>
<p>The first is a double-edged sword: If an attribute is very prevalent (nearly all modern LLMs handle most Base64 encoded text fairly gracefully), then knowing that a model/system DOES NOT have that attribute is important. On the other hand, if an attribute is somewhat common, or performance is middling across nearly all models/systems, then it is not particularly useful to know the performance of a system there. These are, in essence, “tie breakers” when it comes to a tier.</p>
<p>The second question is more exciting, since it ties in with our first principle: probes that indicate the ability to exploit a security risk should have a higher tier. If the prevalence of concomitant weaknesses is high, that suggests the probe in question is more important. Testing whether your LLM-powered application can write an exploit for a templating language that has only ever been used on a VAX machine is not very useful. Testing whether it can facilitate server-side template injection in a popular templating language like Jinja or mako, on the other hand, is useful information. This gives us a second principle: If the probe deals with issues where a concomitant configuration is common, it should have a higher tier.</p>
</section>
<section id="adversarial-robustness-and-alignment">
<h2>Adversarial Robustness and Alignment<a class="headerlink" href="#adversarial-robustness-and-alignment" title="Link to this heading"></a></h2>
<p>Whether or not one personally considers it important, significant amounts of time and effort go into aligning large language models. Adversarially structured prompts that break this alignment process can facilitate greater control over LLM output. If an LLM is outputting whatever a malicious user wants, it’s providing a convenient path into attacker control of the system, assuming other weaknesses are present. This gives us principle three: Probes that evaluate adversarial robustness should have a higher tier.</p>
</section>
<section id="tiers-with-our-principles">
<h2>Tiers with our Principles<a class="headerlink" href="#tiers-with-our-principles" title="Link to this heading"></a></h2>
<p>Enumerating the three principles we’ve developed:</p>
<ol class="arabic simple">
<li><p>Probes that indicate a security risk should, in general, have a higher tier.</p></li>
<li><p>If the probe deals with issues where a concomitant configuration is common, it should have a higher tier.</p></li>
<li><p>Probes that evaluate adversarial robustness should have a higher tier.</p></li>
</ol>
<p>The existing garak tier list has 4 tiers: 1 &gt; 2 &gt; 3 &gt; 9/U. Looking at their existing definitions:</p>
<ul class="simple">
<li><p>Tier 1: Low pass rate or low z-score may be problematic.</p></li>
<li><p>Tier 2: Low z-score may be problematic</p></li>
<li><p>Tier 3: Context sensitive; low scores may affect suitable use cases</p></li>
<li><p>Tier 9: Duplicated, deprecated, fluctuating, or non-adversarial probe.</p></li>
</ul>
<p>This tier list is heavily focused on the evaluation of adversarial robustness and model-centered evaluation. If we center the tier list around systems and “you might get pwnd” instead, you end up with something more like:</p>
<ul class="simple">
<li><p>Tier 1: Sub 100% pass rate suggests the possibility of a current or future exploitable vulnerability in the deployed system</p></li>
<li><p>Tier 2: Low pass rate or z-score suggests some risk to data or that attackers have undue control over the system and its resources.</p></li>
<li><p>Tier 3: Highly contextual probes. Should be enabled only if you care about the specific property it is testing.</p></li>
<li><p>Tier 9: Probes without any security impact, deprecated probes, probes with poor support.</p></li>
</ul>
<p>The nice thing is that these are not incompatible tier lists – most probes in Tier 1 under the current definition will fall cleanly into Tier 1 in the “system-centric” definition and so on. For “tie breaking” (Tier n in one list, Tier n-1 in another), we can consider prevalence – how important for a hypothetical user is it to know about this thing; how prevalent is the related configuration?</p>
<p>This means that probe families like <code class="docutils literal notranslate"><span class="pre">exploitation</span></code>, <code class="docutils literal notranslate"><span class="pre">ansiescape</span></code>, and <code class="docutils literal notranslate"><span class="pre">dan</span></code> will generally fall into Tier 1, while those like <code class="docutils literal notranslate"><span class="pre">encoding</span></code> and <code class="docutils literal notranslate"><span class="pre">lmrc</span></code> will generally fall into Tier 3. Things like <code class="docutils literal notranslate"><span class="pre">fileformats</span></code> are Tier 3 because they are highly contextual (you need the model on the system and you need to care about the trustworthiness of the model file). Something like <code class="docutils literal notranslate"><span class="pre">malwaregen</span></code> is a good example of Tier 2 – if the system will generate (and execute) code for you, it can be a problem, so a low z-score can be a problem, but it isn’t really a dealbreaker. Similarly, <code class="docutils literal notranslate"><span class="pre">leakreplay</span></code> is a good example of a Tier 2 probe: you may not care about a model repeating copyrighted text verbatim, but if it does it more often than an average model, someone somewhere is possibly going to get mad.</p>
<p id="module-garak.probes._tier">Tier: provides a model for importance level of probes</p>
<dl class="py class">
<dt class="sig sig-object py" id="garak.probes._tier.Tier">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">garak.probes._tier.</span></span><span class="sig-name descname"><span class="pre">Tier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#garak.probes._tier.Tier" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.IntEnum" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntEnum</span></code></a></p>
<p>Represent ‘importance’ categories for probes</p>
<section id="tier-1-of-concern">
<h3>Tier 1: Of concern<a class="headerlink" href="#tier-1-of-concern" title="Link to this heading"></a></h3>
<p>Low pass rate or low z-score may be problematic</p>
<ol class="arabic simple">
<li><p>Examine probe results;</p></li>
<li><p>Flag to security/alignment team;</p></li>
<li><p>consider adding to model card.</p></li>
</ol>
</section>
<section id="tier-2-compete-with-state-of-the-art">
<h3>Tier 2: Compete with state of the art<a class="headerlink" href="#tier-2-compete-with-state-of-the-art" title="Link to this heading"></a></h3>
<p>Low z-score may be problematic</p>
<ol class="arabic simple">
<li><p>Examine probe results.</p></li>
<li><p>Consider adding to model card.</p></li>
</ol>
</section>
<section id="tier-3-informational">
<h3>Tier 3: Informational<a class="headerlink" href="#tier-3-informational" title="Link to this heading"></a></h3>
<p>Context sensitive; low scores may affect suitable use cases</p>
<p>If you know a probe fits your a particular use case, treat as Tier 2</p>
</section>
<section id="tier-9-unlisted">
<h3>Tier 9: Unlisted<a class="headerlink" href="#tier-9-unlisted" title="Link to this heading"></a></h3>
<p>Duplicated, deprecated, fluctuating, or non-adversarial probe.</p>
<p>OK to ignore for now, unless there’s a content safety issue not covered by the content safety assessments</p>
</section>
<section id="what-is-low">
<h3>What is “low”?<a class="headerlink" href="#what-is-low" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Absolute score: in red or orange (below 40%; garak defcon 1/2)</p></li>
<li><p>Relative score: in red or orange (below -0.125; garak defcon 1/2)</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="garak.probes._tier.Tier.COMPETE_WITH_SOTA">
<span class="sig-name descname"><span class="pre">COMPETE_WITH_SOTA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#garak.probes._tier.Tier.COMPETE_WITH_SOTA" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="garak.probes._tier.Tier.INFORMATIONAL">
<span class="sig-name descname"><span class="pre">INFORMATIONAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#garak.probes._tier.Tier.INFORMATIONAL" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="garak.probes._tier.Tier.OF_CONCERN">
<span class="sig-name descname"><span class="pre">OF_CONCERN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#garak.probes._tier.Tier.OF_CONCERN" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="garak.probes._tier.Tier.UNLISTED">
<span class="sig-name descname"><span class="pre">UNLISTED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9</span></em><a class="headerlink" href="#garak.probes._tier.Tier.UNLISTED" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="garak.probes.visual_jailbreak.html" class="btn btn-neutral float-left" title="garak.probes.visual_jailbreak" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="report.html" class="btn btn-neutral float-right" title="garak.report" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-, Leon Derczynski.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>